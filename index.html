<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <title>广州南站 · 精炼版 | 东东制作</title>
  <style>
    :root{--bg:#f6f7fb;--card:#ffffff;--ink:#101828;--muted:#475467;--line:#e4e7ec;--brand:#2563eb;--brand2:#7c3aed}
    *{box-sizing:border-box} html,body{margin:0;padding:0}
    body{font-family:-apple-system,BlinkMacSystemFont,"PingFang SC","Hiragino Sans GB","Microsoft YaHei",sans-serif;background:radial-gradient(circle at 20% 0,#eef4ff 0,#f6f7fb 40%,#f8fafc 100%);color:var(--ink)}
    .top{position:sticky;top:0;z-index:99;background:rgba(255,255,255,.86);backdrop-filter:blur(10px);border-bottom:1px solid var(--line)}
    .top .inner{max-width:1200px;margin:auto;padding:10px 14px;display:flex;align-items:center;gap:10px}
    .logo{font-weight:800;color:#111827;font-size:14px;padding:8px 12px;border-radius:999px;background:#eef2ff}
    .menu{display:flex;gap:8px;overflow:auto;white-space:nowrap;padding-bottom:2px}
    .menu a{text-decoration:none;color:#334155;border:1px solid #dbe2ea;padding:7px 10px;border-radius:999px;font-size:13px}
    .hero{max-width:1200px;margin:20px auto 0;padding:24px 14px}
    h1{font-size:clamp(30px,6.5vw,56px);line-height:1.05;margin:0;background:linear-gradient(90deg,var(--brand),var(--brand2));-webkit-background-clip:text;background-clip:text;color:transparent}
    .sub{color:var(--muted);font-size:16px;max-width:840px;margin-top:14px}
    .badge{display:inline-block;margin-top:10px;padding:6px 10px;background:#ecfeff;border:1px solid #bae6fd;color:#0c4a6e;border-radius:999px;font-size:12px}
    .wrap{max-width:1200px;margin:auto;padding:14px;display:grid;grid-template-columns:260px 1fr;gap:16px}
    .toc{position:sticky;top:64px;align-self:start;background:var(--card);border:1px solid var(--line);border-radius:16px;padding:12px;max-height:calc(100vh - 80px);overflow:auto}
    .toc h3{font-size:13px;margin:2px 0 8px;color:#475467}
    .toc .lvl2{font-size:13px;margin:6px 0}
    .toc .lvl2 a{text-decoration:none;color:#0f172a}
    .toc .lvl3{font-size:12px;color:#64748b;padding-left:10px;margin:4px 0}
    .toc .lvl3 a{text-decoration:none;color:#64748b}
    .content{background:var(--card);border:1px solid var(--line);border-radius:16px;padding:16px}
    .sec{padding:18px 4px;border-bottom:1px dashed #e5e7eb}
    .sec:last-child{border-bottom:none}
    .h2{font-size:28px;margin:0 0 8px}
    .h3{font-size:20px;margin:18px 0 8px;color:#1d4ed8}
    p{margin:8px 0;color:#334155;line-height:1.9}
    .foot{max-width:1200px;margin:16px auto 42px;padding:0 14px;color:#64748b;font-size:13px}
    @media (max-width:900px){.wrap{grid-template-columns:1fr}.toc{position:relative;top:0;max-height:none}}
  </style>
</head>
<body>
  <header class="top">
    <div class="inner">
      <div class="logo">东东制作</div>
      <nav class="menu" id="topMenu"></nav>
    </div>
  </header>
  <section class="hero">
    <h1>广州南站 · 精炼深度网站</h1>
    <p class="sub">这是一版强调可读性与质感的网页：把复杂研究内容压缩为顺滑叙事，手机和电脑都能舒适阅读。</p>
    <span class="badge">二级菜单 + 重点章节直达</span>
  </section>

  <main class="wrap">
    <aside class="toc">
      <h3>章节导航</h3>
      <div id="toc"></div>
    </aside>
    <article class="content" id="content"></article>
  </main>
  <footer class="foot">东东制作 · 广州南站专题（精炼版）</footer>

  <script id="md" type="text/plain"></script>
  <script>
    async function boot(){
      const md = await fetch('content.md').then(r=>r.text());
      const lines = md.split(/\r?\n/);
      const content = document.getElementById('content');
      const toc = document.getElementById('toc');
      const topMenu = document.getElementById('topMenu');

      let currentSec = null, h2Count=0;
      const frag = document.createDocumentFragment();
      const tocFrag = document.createDocumentFragment();

      for(const raw of lines){
        const line = raw.trim();
        if(!line) continue;
        if(/^###\s+/.test(line)){ // 2级菜单
          const t = line.replace(/^###\s+/,'').replace(/^[一二三四五六七八九十\d]+[、.）)]?/,'').trim();
          const id = 's2-'+(++h2Count);
          const sec = document.createElement('section'); sec.className='sec'; sec.id=id;
          const h2 = document.createElement('h2'); h2.className='h2'; h2.textContent=t; sec.appendChild(h2);
          frag.appendChild(sec); currentSec = sec;
          const d = document.createElement('div'); d.className='lvl2'; d.innerHTML = `<a href="#${id}">${t}</a>`; tocFrag.appendChild(d);
          const m = document.createElement('a'); m.href='#'+id; m.textContent=t; topMenu.appendChild(m);
          continue;
        }
        if(/^####\s+/.test(line) && currentSec){
          const t = line.replace(/^####\s+/,'').trim();
          const h3 = document.createElement('h3'); h3.className='h3'; h3.textContent=t; currentSec.appendChild(h3);
          const d = document.createElement('div'); d.className='lvl3'; d.innerHTML=`<a href="#${currentSec.id}">· ${t}</a>`; tocFrag.appendChild(d);
          continue;
        }
        if(/^[-*]\s+/.test(line)){
          const p = document.createElement('p'); p.textContent = '• ' + line.replace(/^[-*]\s+/,''); (currentSec||content).appendChild(p); continue;
        }
        if(!/^```/.test(line) && !/^>/.test(line) && currentSec){ const p=document.createElement('p'); p.textContent=line; currentSec.appendChild(p); }
      }
      content.appendChild(frag); toc.appendChild(tocFrag);
      if(!topMenu.children.length){ topMenu.innerHTML='<a href="#content">阅读正文</a>'; }
    }
    boot();
  </script>
</body>
</html>